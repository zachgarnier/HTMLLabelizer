:root {
      --bg: #0b1020;
      --muted: #1a2238;
      --card: #11182d;
      --card-2: #0e152a;
      --text: #e7ecff;
      --sub: #a6b0d6;
      --accent: #6aa3ff;
      --accent-2: #20c997;
      --danger: #ff6b6b;
      --warning: #ffd43b;
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --border: #192244;
      --hover: #1e2a49;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
    }

    body {
      font-family: ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background: linear-gradient(180deg, var(--bg), #060913 60%);
      color: var(--text);
      line-height: 1.6;
    }

    .app-header {
      position: sticky;
      top: 0;
      z-index: 10;
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 14px 20px;
      background: rgba(11,16,32,.9);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--border);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-right: auto;
    }

    .brand .logo {
      font-size: 22px;
      color: var(--accent);
    }

    .brand h1 {
      margin: 0;
      font-size: 18px;
      letter-spacing: 0.5px;
      font-weight: 600;
    }

    .controls {
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    button, .file-input label {
    border: 1px solid var(--hover);
    background: #152043;
    color: var(--text);
    padding: 10px 16px;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: var(--shadow);
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s ease;
    display: inline-block; /* makes label behave like button */
  }

  button:hover, .file-input label:hover {
    filter: brightness(1.15);
    background: var(--hover);
  }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      filter: none;
    }

    .file-input {
      position: relative;
    }

    .file-input input {
      position: absolute;
      inset: 0;
      opacity: 0;
      cursor: pointer;
    }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      filter: none;
    }

    .layout {
      padding: 20px;
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 20px;
      min-height: calc(100vh - 70px);
    }

    .cards {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .card {
      background: linear-gradient(180deg, var(--card), var(--card-2));
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
      background: rgba(255,255,255,.03);
    }

    .card-header .title h2 {
      margin: 0;
      font-size: 16px;
      font-weight: 600;
    }

    .card-header .filename {
      color: var(--sub);
      font-size: 13px;
    }

    .card-body {
      padding: 20px;
      display: grid;
      gap: 16px;
      flex: 1;
      overflow: auto;
    }

    /* HTML Display */
    .html-content {
    max-height: calc(100vh - 40px - 200px);
    overflow-y: auto;
    padding: 16px;
    border: 1px solid var(--border);
    border-radius: 12px;
    background: #0c1227;
    line-height: 1.8;
    user-select: text;
    cursor: text;
  }

    .empty-state {
      text-align: center;
      color: var(--sub);
      padding: 60px 20px;
    }

    .empty-state h3 {
      margin-bottom: 10px;
      color: var(--text);
      font-weight: 500;
    }

    /* Label Manager */
    .label-creation-section {
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border);
    }

    .label-input-row {
      display: grid;
      grid-template-columns: 1fr auto auto;
      gap: 12px;
      align-items: center;
    }

    .label-input-row input[type="text"] {
      background: var(--bg);
      color: var(--text);
      border: 1px solid var(--hover);
      padding: 10px 12px;
      border-radius: 8px;
      font-size: 14px;
      width: 100%;
    }

    .label-input-row input[type="text"]:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(106, 163, 255, 0.2);
    }

    .label-input-row input[type="color"] {
      width: 44px;
      height: 44px;
      padding: 2px;
      cursor: pointer;
      border: 1px solid var(--hover);
      border-radius: 8px;
      background: transparent;
    }

    /* Tree Structure */
    .label-tree {
      margin-top: 16px;
      max-height: 400px;
      overflow-y: auto;
    }

    .tree-node {
      margin-bottom: 2px;
    }

    .tree-item {
      display: flex;
      align-items: center;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      position: relative;
      min-height: 36px;
    }

    .tree-item:hover {
      background-color: var(--hover);
    }

    .tree-item.selected {
      background-color: var(--accent);
      color: white;
    }

    .tree-item.level-0 { padding-left: 12px; }
    .tree-item.level-1 { padding-left: 32px; }
    .tree-item.level-2 { padding-left: 52px; }
    .tree-item.level-3 { padding-left: 72px; }

    .tree-expand-btn {
      width: 18px;
      height: 18px;
      border: none;
      background: none;
      color: var(--sub);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 8px;
      font-size: 12px;
      padding: 0;
      border-radius: 4px;
    }

    .tree-expand-btn:hover {
      background-color: var(--hover);
      color: var(--text);
    }

    .tree-expand-btn.collapsed::before {
      content: '▶';
    }

    .tree-expand-btn.expanded::before {
      content: '▼';
    }

    .tree-expand-btn.no-children {
      visibility: hidden;
    }

    .tree-icon {
      width: 18px;
      height: 18px;
      margin-right: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }

    .tree-icon.folder {
      color: var(--warning);
    }

    .tree-icon.folder::before {
      content: '◉';
    }

    .tree-icon.file::before {
      content: '◯';
      color: var(--sub);
    }

    .tree-icon.param::before {
      content: '◦';
      color: var(--accent);
      font-size: 12px;
    }

    .tree-label {
      flex: 1;
      font-size: 14px;
      font-weight: 500;
    }

    .tree-actions {
      display: flex;
      gap: 6px;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .tree-item:hover .tree-actions {
      opacity: 1;
    }

    .tree-action-btn {
      width: 24px;
      height: 24px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      transition: all 0.2s ease;
    }

    .tree-action-btn.add {
      background: var(--accent-2);
      color: white;
    }

    .tree-action-btn.add::before {
      content: '+';
      font-weight: bold;
    }

    .tree-action-btn.delete {
      background: var(--danger);
      color: white;
    }

    .tree-action-btn.delete::before {
      content: '×';
      font-weight: bold;
    }

    .tree-action-btn.edit {
      background: var(--warning);
      color: black;
    }

    .tree-action-btn.edit::before {
      content: '⚙';
    }

    .tree-color-indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 8px;
      border: 1px solid var(--border);
    }

    .tree-param-value {
      font-size: 11px;
      color: var(--sub);
      margin-left: auto;
      margin-right: 8px;
      font-family: ui-monospace, SFMono-Regular, monospace;
    }

    .tree-children {
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .tree-children.collapsed {
      max-height: 0;
    }

    .tree-children.expanded {
      max-height: 1000px;
    }

    /* Context Menu */
    .context-menu {
      position: fixed;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      box-shadow: var(--shadow);
      padding: 8px;
      z-index: 1000;
      min-width: 200px;
      animation: fadeIn 0.15s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .context-menu.hidden {
      display: none;
    }

    .context-menu h4 {
      color: var(--sub);
      font-size: 12px;
      margin-bottom: 8px;
      padding: 0 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }

    .label-options {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .label-option {
      padding: 10px 12px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 13px;
      text-align: left;
      transition: opacity 0.2s ease;
      font-weight: 500;
    }

    .label-option:hover {
      opacity: 0.8;
    }

    .no-labels {
      color: var(--sub);
      font-size: 13px;
      padding: 12px;
      text-align: center;
      font-style: italic;
    }

    /* Parameter Menu */
    .param-menu {
      position: fixed;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      box-shadow: var(--shadow);
      padding: 16px;
      z-index: 1001;
      min-width: 280px;
      max-width: 400px;
    }

    .param-menu.hidden {
      display: none;
    }

    .param-menu h4 {
      color: var(--accent);
      font-size: 14px;
      margin-bottom: 12px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--border);
      font-weight: 600;
    }

    .param-form {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .param-row {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .param-row label {
      min-width: 80px;
      font-size: 13px;
      color: var(--sub);
      font-weight: 500;
    }

    .param-row input {
      flex: 1;
      background: var(--bg);
      color: var(--text);
      border: 1px solid var(--hover);
      padding: 8px 10px;
      border-radius: 6px;
      font-size: 13px;
    }

    .param-row input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(106, 163, 255, 0.2);
    }

    .param-menu-actions {
      display: flex;
      gap: 8px;
      margin-top: 16px;
      padding-top: 12px;
      border-top: 1px solid var(--border);
    }

    .param-menu-actions button {
      flex: 1;
      padding: 8px 16px;
      font-size: 13px;
    }

    .param-menu-actions .save-btn {
      background: var(--accent-2);
    }

    .param-menu-actions .cancel-btn {
      background: var(--muted);
    }

    .param-row select {
  flex: 1;
  background: var(--bg);
  color: var(--text);
  border: 1px solid var(--hover);
  padding: 8px 10px;
  border-radius: 6px;
  font-size: 13px;
  cursor: pointer;
}

.param-row select:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 2px rgba(106, 163, 255, 0.2);
}

/* Checkbox styling */
.param-row input[type="checkbox"] {
  width: 16px;
  height: 16px;
  accent-color: var(--accent); /* modern browsers */
  cursor: pointer;
  border-radius: 4px;
}

.param-row input[type="checkbox"]:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(106, 163, 255, 0.3);
}

    /* Statistics */
    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .stat-item {
      background: var(--bg);
      padding: 16px;
      border-radius: 8px;
      text-align: center;
      border: 1px solid var(--border);
    }

    .stat-number {
      font-size: 20px;
      font-weight: bold;
      color: var(--accent);
      display: block;
    }

    .stat-label {
      font-size: 12px;
      color: var(--sub);
      margin-top: 4px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Manual Labels */
    manual_label {
      position: relative;
      display: inline;
      padding: 2px 6px;
      border-radius: 6px;
      font-weight: 500;
      margin: 0 2px;
      cursor: pointer;
      transition: opacity 0.2s ease;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    manual_label:hover {
      opacity: 0.8;
    }

    manual_label .delete-btn {
      position: absolute;
      top: -8px;
      right: -8px;
      background: var(--danger);
      color: white;
      border: none;
      border-radius: 50%;
      font-size: 10px;
      width: 16px;
      height: 16px;
      cursor: pointer;
      line-height: 14px;
      padding: 0;
      z-index: 10;
      font-weight: bold;
    }

    .inline-edit-input {
      background: var(--bg);
      color: var(--text);
      border: 1px solid var(--accent);
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 12px;
      width: 100px;
    }

    @media (max-width: 1024px) {
      .layout {
        grid-template-columns: 1fr;
        gap: 16px;
      }
      
      .controls {
        flex-wrap: wrap;
        justify-content: center;
      }
    }

    .hidden {
      display: none !important;
    }






.inline-editor {
  margin: 6px 0 6px 20px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  padding: 10px 12px;
  background: var(--card-2);
  border: 1px solid var(--border);
  border-radius: 10px;
  box-shadow: var(--shadow);
}

.inline-editor input,
.inline-editor select {
  padding: 6px 10px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text);
  font-size: 14px;
  min-width: 120px;
}

.inline-editor input:focus,
.inline-editor select:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 6px var(--accent);
}

.inline-editor .save-btn {
  border: 1px solid var(--accent-2);
  background: var(--accent-2);
  color: #fff;
  padding: 6px 12px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  box-shadow: var(--shadow);
  transition: all 0.2s ease;
}

.inline-editor .save-btn:hover {
  filter: brightness(1.15);
  background: #1ea87d;
}



/* Suggestion Dropdown Styles (lighter + integrated look) */
.suggestion-dropdown {
  position: absolute;
  top: 100%;
  left: 33%;
  right: 0;
  background: var(--card);
  border: 1px solid var(--border);
  border-top: none;
  border-radius: 0 0 8px 8px;
  max-height: 150px;
  overflow-y: auto;
  z-index: 1002;
  box-shadow: var(--shadow);
  backdrop-filter: blur(8px);
}

.suggestion-item {
  padding: 5px;
  cursor: pointer;
  font-size: 12.5px;
  color: var(--text);
  transition: background-color 0.2s ease;
  border-bottom: 1px solid var(--border);
}

.suggestion-item:last-child {
  border-bottom: none;
}

.suggestion-item:hover,
.suggestion-item.highlighted {
  background-color: var(--hover);
}

.suggestion-item.highlighted {
  background: linear-gradient(90deg, var(--accent), rgba(106, 163, 255, 0.8));
  color: white;
}

/* Ensure input container has relative positioning for dropdown */
.param-row {
  position: relative;
}




